{% extends "main/base.html" %}
{% load static %}

{% block title %}
  {{ product.name }} - Django Shop
{% endblock %}


{% block content %}
  
  <div class="row g-5 mb-5">
    
    <div class="col-md-6">
      <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'img/no_image.png' %}{% endif %}" 
           class="img-fluid rounded shadow-sm" 
           alt="{{ product.name }}">
    </div>

    <div class="col-md-6">
      
      <h1 class="display-4 fw-bold">{{ product.name }}</h1>
      
      <a href="{{ product.category.get_absolute_url }}" class="fs-5 text-muted text-decoration-none mb-3 d-block">
        {{ product.category.name }}
      </a>
      
      <p class="lead">{{ product.description|linebreaks }}</p>
      
      <div class="my-4">
        <span class="display-5 fw-bold text-success">{{ product.price }} грн.</span>
      </div>

      <form action="#" method="post" class="mt-4">
        {% csrf_token %}
        <div class="d-grid gap-2"> <button type="submit" class="btn btn-primary btn-lg py-3">
            <i class="bi bi-cart-plus me-2"></i> Добавить в корзину
          </button>
        </div>
      </form>
      
    </div>
  </div>

  <hr class="my-5">

  <div class="row">
    <div class="col-12">
      <h2 class="display-5 mb-4">Вам также может понравиться</h2>
    </div>
  </div>

  <div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4">
    
    {% for p in related_products %}
      <div class="col">
        <div class="card h-100 shadow-sm border-0">
          
          <img src="{% if p.image %}{{ p.image.url }}{% else %}{% static 'img/no_image.png' %}{% endif %}" class="card-img-top" alt="{{ p.name }}">
          
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">
              <a href="{{ p.get_absolute_url }}" class="text-dark text-decoration-none">{{ p.name }}</a>
            </h5>
            
            <p class="card-text fs-4 fw-bold mt-auto">
              {{ p.price }} грн.
            </p>
            
            <a href="#" class="btn btn-primary mt-2">
              <i class="bi bi-cart-plus"></i> В корзину
            </a>
          </div>

        </div>
      </div>
    {% endfor %}
  </div> {% endblock %}